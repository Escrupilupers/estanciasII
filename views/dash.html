<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Universitario - Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Librerías para exportar PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#206cdf",
                        "secondary": "#10b981",
                        "background-light": "#f6f7f8",
                        "background-dark": "#111721",
                    },
                    fontFamily: {
                        "display": ["Public Sans"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Public Sans', sans-serif;
        }
        .sortable:hover {
            cursor: pointer;
            background-color: rgba(0, 0, 0, 0.05);
        }
        .sortable.dark:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .sort-icon {
            margin-left: 5px;
            opacity: 0.5;
        }
        .active-sort {
            background-color: rgba(32, 108, 223, 0.1);
        }
        .active-sort.dark {
            background-color: rgba(32, 108, 223, 0.3);
        }
        .sidebar {
            transition: all 0.3s ease;
        }
        .dashboard-card {
            transition: all 0.3s ease;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display">
    <!-- Navigation Bar -->
    <nav class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-3">
                    <div class="p-2 bg-primary rounded-lg">
                        <i class="fas fa-graduation-cap text-white"></i>
                    </div>
                    <span class="text-xl font-bold text-gray-800 dark:text-white">Sistema Universitario</span>
                </div>
                
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white font-semibold">
                            A
                        </div>
                        <span class="text-gray-700 dark:text-gray-300">Administrador</span>
                    </div>
                    <button id="theme-toggle" class="p-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <i class="fas fa-moon" id="theme-icon"></i>
                    </button>
                    <button id="logout-btn" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                        <i class="fas fa-sign-out-alt"></i>
                        Cerrar Sesión
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <div class="sidebar w-64 bg-white dark:bg-gray-800 h-[calc(100vh-4rem)] shadow-md border-r border-gray-200 dark:border-gray-700">
            <div class="p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="#" id="dashboard-link" class="flex items-center gap-3 p-3 rounded-lg bg-primary text-white">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="practices-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-laptop-code"></i>
                            <span>Prácticas</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="users-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-users"></i>
                            <span>Usuarios</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="reports-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-chart-bar"></i>
                            <span>Reportes</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="settings-link" class="flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-cog"></i>
                            <span>Configuración</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Dashboard de Administración</h1>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Prácticas</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-practices">0</p>
                            </div>
                            <div class="p-3 bg-blue-100 dark:bg-blue-900 rounded-lg">
                                <i class="fas fa-laptop-code text-blue-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span>12% más que el mes pasado</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Prácticas Este Mes</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="month-practices">0</p>
                            </div>
                            <div class="p-3 bg-green-100 dark:bg-green-900 rounded-lg">
                                <i class="fas fa-calendar-check text-green-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span>5% más que la semana pasada</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Profesores</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-professors">0</p>
                            </div>
                            <div class="p-3 bg-purple-100 dark:bg-purple-900 rounded-lg">
                                <i class="fas fa-user-tie text-purple-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-gray-500">
                                <span>Sin cambios</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Asignaturas</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white" id="total-subjects">0</p>
                            </div>
                            <div class="p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg">
                                <i class="fas fa-book text-yellow-500 text-xl"></i>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center text-sm text-green-500">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span>2 nuevas este mes</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Activities and Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Recent Activities -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Actividad Reciente</h2>
                        <div class="space-y-4" id="recent-activities">
                            <!-- Las actividades se cargarán dinámicamente -->
                        </div>
                    </div>
                    
                    <!-- Upcoming Practices -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Próximas Prácticas</h2>
                        <div class="space-y-4" id="upcoming-practices">
                            <!-- Las prácticas próximas se cargarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Practices View -->
            <div id="practices-view" class="hidden fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Gestión de Prácticas</h1>
                    <button id="add-practice-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        Nueva Práctica
                    </button>
                </div>
                
                <!-- Controles de Interactividad -->
                <div class="mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
                    <div class="flex flex-wrap gap-4 items-center">
                        <!-- Búsqueda -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="search" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Buscar</label>
                            <input type="text" id="search" placeholder="Buscar en la tabla..." 
                                   class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                        </div>
                        
                        <!-- Filtro por profesor -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="professor-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Filtrar por profesor</label>
                            <select id="professor-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="">Todos los profesores</option>
                            </select>
                        </div>
                        
                        <!-- Filtro por asignatura -->
                        <div class="flex-1 min-w-[200px]">
                            <label for="subject-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Filtrar por asignatura</label>
                            <select id="subject-filter" 
                                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="">Todas las asignaturas</option>
                            </select>
                        </div>
                        
                        <!-- Botones de acción -->
                        <div class="flex gap-2 items-end">
                            <button id="reset-filters" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                                Restablecer
                            </button>
                            <button id="export-pdf-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700 transition-colors">
                                Exportar PDF
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Tabla de Prácticas -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700" id="table-container">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700" id="data-table">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="date" scope="col">
                                        Fecha
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="practice" scope="col">
                                        Práctica
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="objective" scope="col">
                                        Objetivo
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="professor" scope="col">
                                        Profesor
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sortable" data-column="subject" scope="col">
                                        Asignatura
                                        <span class="sort-icon">↕</span>
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Acciones
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="table-body" class="bg-white dark:bg-background-dark divide-y divide-gray-200 dark:divide-gray-700">
                                <!-- Los datos se cargarán dinámicamente con JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Información de resultados -->
                    <div class="p-4 border-t border-gray-200 dark:border-gray-700 text-sm text-gray-600 dark:text-gray-400">
                        Mostrando <span id="results-count">0</span> de <span id="total-count">0</span> prácticas
                    </div>
                </div>
            </div>
            
            <!-- Users View -->
            <div id="users-view" class="hidden fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Gestión de Usuarios</h1>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                    <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white">Usuarios del Sistema</h2>
                        <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
                            <i class="fas fa-user-plus"></i>
                            Agregar Usuario
                        </button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                            <thead class="bg-gray-50 dark:bg-gray-800">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Usuario
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Rol
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Correo
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Estado
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Último Acceso
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        Acciones
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-background-dark divide-y divide-gray-200 dark:divide-gray-700">
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <div class="h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold">
                                                    A
                                                </div>
                                            </div>
                                            <div class="ml-4">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                    Administrador
                                                </div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400">
                                                    admin
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200">
                                            Administrador
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        admin@universidad.edu
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200">
                                            Activo
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        Hoy, 10:30 AM
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3">
                                            Editar
                                        </button>
                                        <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300">
                                            Eliminar
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <div class="h-10 w-10 rounded-full bg-green-500 flex items-center justify-center text-white font-semibold">
                                                    DG
                                                </div>
                                            </div>
                                            <div class="ml-4">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                    Dr. García
                                                </div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400">
                                                    dgarcia
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200">
                                            Profesor
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        dgarcia@universidad.edu
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200">
                                            Activo
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        Ayer, 3:45 PM
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3">
                                            Editar
                                        </button>
                                        <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300">
                                            Eliminar
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <div class="h-10 w-10 rounded-full bg-yellow-500 flex items-center justify-center text-white font-semibold">
                                                    DM
                                                </div>
                                            </div>
                                            <div class="ml-4">
                                                <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                    Dra. Martínez
                                                </div>
                                                <div class="text-sm text-gray-500 dark:text-gray-400">
                                                    dmartinez
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200">
                                            Profesor
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        dmartinez@universidad.edu
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200">
                                            Activo
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                        Hoy, 9:15 AM
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3">
                                            Editar
                                        </button>
                                        <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300">
                                            Eliminar
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Reports View -->
            <div id="reports-view" class="hidden fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Reportes y Estadísticas</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Prácticas por Asignatura</h2>
                        <div class="h-64 flex items-center justify-center text-gray-500 dark:text-gray-400">
                            <p>Gráfico de prácticas por asignatura</p>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Prácticas por Mes</h2>
                        <div class="h-64 flex items-center justify-center text-gray-500 dark:text-gray-400">
                            <p>Gráfico de prácticas por mes</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                    <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Generar Reportes</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer">
                            <i class="fas fa-file-pdf text-red-500 text-2xl mb-2"></i>
                            <p class="font-medium text-gray-800 dark:text-white">Reporte de Prácticas</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Generar PDF con todas las prácticas</p>
                        </div>
                        <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer">
                            <i class="fas fa-chart-line text-blue-500 text-2xl mb-2"></i>
                            <p class="font-medium text-gray-800 dark:text-white">Estadísticas Mensuales</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Resumen del mes actual</p>
                        </div>
                        <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer">
                            <i class="fas fa-users text-green-500 text-2xl mb-2"></i>
                            <p class="font-medium text-gray-800 dark:text-white">Reporte de Usuarios</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Listado de usuarios activos</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Settings View -->
            <div id="settings-view" class="hidden fade-in">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Configuración del Sistema</h1>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                    <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Preferencias</h2>
                    
                    <div class="space-y-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800 dark:text-white">Modo Oscuro</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Activar/desactivar el modo oscuro</p>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" id="dark-mode-toggle" class="sr-only" checked>
                                <div class="block bg-gray-300 dark:bg-gray-700 w-12 h-6 rounded-full transition-colors"></div>
                                <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform"></div>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-800 dark:text-white">Notificaciones por Email</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Recibir notificaciones por correo electrónico</p>
                            </div>
                            <div class="relative inline-block w-12 h-6">
                                <input type="checkbox" id="email-notifications" class="sr-only" checked>
                                <div class="block bg-gray-300 dark:bg-gray-700 w-12 h-6 rounded-full transition-colors"></div>
                                <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform"></div>
                            </div>
                        </div>
                        
                        <div>
                            <label for="language" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Idioma</label>
                            <select id="language" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="es">Español</option>
                                <option value="en">English</option>
                                <option value="fr">Français</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="timezone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Zona Horaria</label>
                            <select id="timezone" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option value="America/Mexico_City">Ciudad de México (UTC-6)</option>
                                <option value="America/New_York">Nueva York (UTC-5)</option>
                                <option value="Europe/Madrid">Madrid (UTC+1)</option>
                            </select>
                        </div>
                        
                        <div class="flex justify-end">
                            <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors">
                                Guardar Configuración
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edición -->
    <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white">Editar Práctica</h3>
                    <button id="close-edit-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <form id="edit-practice-form" class="p-6">
                <input type="hidden" id="edit-practice-id">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Fecha de Práctica <span class="text-red-500">*</span>
                        </label>
                        <input type="date" id="edit-practice-date" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-practice-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Nombre de Práctica <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="edit-practice-name" required placeholder="Ej: Laboratorio de Química"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-professor" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Profesor <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-professor" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="">Seleccione un profesor</option>
                            <option value="Dr. García">Dr. García</option>
                            <option value="Dra. Martínez">Dra. Martínez</option>
                            <option value="Dr. Rodríguez">Dr. Rodríguez</option>
                            <option value="Dr. López">Dr. López</option>
                            <option value="Dr. Hernández">Dr. Hernández</option>
                            <option value="Dra. Pérez">Dra. Pérez</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="edit-practice-subject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Asignatura <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-subject" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="">Seleccione una asignatura</option>
                            <option value="Química Orgánica">Química Orgánica</option>
                            <option value="Física I">Física I</option>
                            <option value="Biología Celular">Biología Celular</option>
                            <option value="Algoritmos">Algoritmos</option>
                            <option value="Electrónica Digital">Electrónica Digital</option>
                            <option value="Cálculo I">Cálculo I</option>
                            <option value="Química Analítica">Química Analítica</option>
                            <option value="Física II">Física II</option>
                            <option value="Genética">Genética</option>
                            <option value="Estructuras de Datos">Estructuras de Datos</option>
                            <option value="Electrónica Analógica">Electrónica Analógica</option>
                            <option value="Cálculo II">Cálculo II</option>
                            <option value="Microbiología">Microbiología</option>
                        </select>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label for="edit-practice-objective" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Objetivo de la Práctica <span class="text-red-500">*</span>
                    </label>
                    <textarea id="edit-practice-objective" required rows="3" placeholder="Describa el objetivo principal de esta práctica..."
                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors"></textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="edit-practice-lab" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Laboratorio / Aula
                        </label>
                        <input type="text" id="edit-practice-lab" placeholder="Ej: Laboratorio 3A"
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                    </div>
                    
                    <div>
                        <label for="edit-practice-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                            Estado <span class="text-red-500">*</span>
                        </label>
                        <select id="edit-practice-status" required
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white transition-colors">
                            <option value="programada">Programada</option>
                            <option value="confirmada">Confirmada</option>
                            <option value="en-curso">En curso</option>
                            <option value="completada">Completada</option>
                            <option value="cancelada">Cancelada</option>
                        </select>
                    </div>
                </div>
                
                <div class="flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700">
                    <button type="button" id="cancel-edit" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
                        <i class="fas fa-save"></i>
                        Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Eliminación -->
    <div id="delete-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md mx-4 slide-in">
            <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white">Confirmar Eliminación</h3>
                    <button id="close-delete-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex items-center gap-4 mb-4">
                    <div class="p-3 bg-red-100 dark:bg-red-900 rounded-full">
                        <i class="fas fa-exclamation-triangle text-red-500 text-xl"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800 dark:text-white">¿Está seguro de eliminar esta práctica?</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Esta acción no se puede deshacer.</p>
                    </div>
                </div>
                
                <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg mb-6">
                    <p class="text-sm text-gray-800 dark:text-gray-200 font-medium" id="delete-practice-name"></p>
                    <p class="text-xs text-gray-600 dark:text-gray-400 mt-1" id="delete-practice-details"></p>
                </div>
                
                <input type="hidden" id="delete-practice-id">
                
                <div class="flex justify-end gap-3">
                    <button type="button" id="cancel-delete" class="px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                        Cancelar
                    </button>
                    <button type="button" id="confirm-delete" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2">
                        <i class="fas fa-trash"></i>
                        Eliminar Práctica
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mensaje de éxito -->
    <div id="success-message" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden fade-in">
        <div class="flex items-center gap-2">
            <i class="fas fa-check-circle"></i>
            <span id="success-text">¡Operación completada exitosamente!</span>
        </div>
    </div>

    <script>
        // Datos de ejemplo para la tabla de prácticas (del código proporcionado)
        const practiceData = [
            { id: 1, date: '2024-01-15', practice: 'Laboratorio de Química', objective: 'Identificación de compuestos orgánicos', professor: 'Dr. García', subject: 'Química Orgánica', lab: 'Laboratorio 3A', status: 'programada' },
            { id: 2, date: '2024-01-17', practice: 'Práctica de Física', objective: 'Leyes de Newton', professor: 'Dra. Martínez', subject: 'Física I', lab: 'Laboratorio 2B', status: 'confirmada' },
            { id: 3, date: '2024-01-20', practice: 'Laboratorio de Biología', objective: 'Observación de células', professor: 'Dr. Rodríguez', subject: 'Biología Celular', lab: 'Laboratorio 4C', status: 'en-curso' },
            { id: 4, date: '2024-01-22', practice: 'Práctica de Programación', objective: 'Algoritmos de ordenamiento', professor: 'Dr. López', subject: 'Algoritmos', lab: 'Sala de Computación 1', status: 'completada' },
            { id: 5, date: '2024-01-25', practice: 'Laboratorio de Electrónica', objective: 'Circuitos integrados', professor: 'Dr. Hernández', subject: 'Electrónica Digital', lab: 'Laboratorio 5A', status: 'cancelada' },
            { id: 6, date: '2024-01-28', practice: 'Práctica de Matemáticas', objective: 'Cálculo diferencial', professor: 'Dra. Pérez', subject: 'Cálculo I', lab: 'Aula 302', status: 'programada' },
            { id: 7, date: '2024-02-01', practice: 'Laboratorio de Química', objective: 'Titulación ácido-base', professor: 'Dr. García', subject: 'Química Analítica', lab: 'Laboratorio 3A', status: 'confirmada' },
            { id: 8, date: '2024-02-05', practice: 'Práctica de Física', objective: 'Movimiento parabólico', professor: 'Dra. Martínez', subject: 'Física I', lab: 'Laboratorio 2B', status: 'programada' },
            { id: 9, date: '2024-02-08', practice: 'Laboratorio de Biología', objective: 'Genética mendeliana', professor: 'Dr. Rodríguez', subject: 'Genética', lab: 'Laboratorio 4C', status: 'programada' },
            { id: 10, date: '2024-02-12', practice: 'Práctica de Programación', objective: 'Estructuras de datos', professor: 'Dr. López', subject: 'Estructuras de Datos', lab: 'Sala de Computación 1', status: 'programada' },
            { id: 11, date: '2024-02-15', practice: 'Laboratorio de Electrónica', objective: 'Amplificadores operacionales', professor: 'Dr. Hernández', subject: 'Electrónica Analógica', lab: 'Laboratorio 5A', status: 'programada' },
            { id: 12, date: '2024-02-18', practice: 'Práctica de Matemáticas', objective: 'Integrales definidas', professor: 'Dra. Pérez', subject: 'Cálculo II', lab: 'Aula 302', status: 'programada' },
            { id: 13, date: '2024-02-22', practice: 'Laboratorio de Química', objective: 'Cromatografía', professor: 'Dr. García', subject: 'Química Analítica', lab: 'Laboratorio 3A', status: 'programada' },
            { id: 14, date: '2024-02-26', practice: 'Práctica de Física', objective: 'Termodinámica', professor: 'Dra. Martínez', subject: 'Física II', lab: 'Laboratorio 2B', status: 'programada' },
            { id: 15, date: '2024-03-01', practice: 'Laboratorio de Biología', objective: 'Microbiología básica', professor: 'Dr. Rodríguez', subject: 'Microbiología', lab: 'Laboratorio 4C', status: 'programada' }
        ];

        // Estado de la aplicación
        let currentData = [...practiceData];
        let sortColumn = 'date';
        let sortDirection = 'asc';
        let currentFilters = {
            search: '',
            professor: '',
            subject: ''
        };

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            initializePracticesTable();
            setupEventListeners();
            updateResultsCount();
            
            // Verificar preferencia de tema
            if (localStorage.getItem('darkMode') === 'true') {
                document.documentElement.classList.add('dark');
                updateThemeIcon(true);
            }
        });

        // Inicializar dashboard
        function initializeDashboard() {
            // Actualizar estadísticas
            document.getElementById('total-practices').textContent = practiceData.length;
            
            // Calcular prácticas del mes actual
            const currentMonth = new Date().getMonth() + 1;
            const monthPractices = practiceData.filter(practice => {
                const practiceMonth = new Date(practice.date).getMonth() + 1;
                return practiceMonth === currentMonth;
            }).length;
            document.getElementById('month-practices').textContent = monthPractices;
            
            // Calcular número de profesores únicos
            const professors = [...new Set(practiceData.map(item => item.professor))];
            document.getElementById('total-professors').textContent = professors.length;
            
            // Calcular número de asignaturas únicas
            const subjects = [...new Set(practiceData.map(item => item.subject))];
            document.getElementById('total-subjects').textContent = subjects.length;
            
            // Cargar actividades recientes
            loadRecentActivities();
            
            // Cargar próximas prácticas
            loadUpcomingPractices();
        }

        // Cargar actividades recientes
        function loadRecentActivities() {
            const activitiesContainer = document.getElementById('recent-activities');
            activitiesContainer.innerHTML = '';
            
            // Ordenar prácticas por fecha (más recientes primero)
            const sortedPractices = [...practiceData].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Tomar las 4 más recientes
            const recentPractices = sortedPractices.slice(0, 4);
            
            recentPractices.forEach(practice => {
                const activityDiv = document.createElement('div');
                activityDiv.className = 'flex items-start gap-3';
                
                activityDiv.innerHTML = `
                    <div class="p-2 bg-blue-100 dark:bg-blue-900 rounded-full">
                        <i class="fas fa-plus text-blue-500"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-800 dark:text-white">Nueva práctica programada</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">${practice.practice} - ${practice.professor}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">${formatDate(practice.date)}</p>
                    </div>
                `;
                
                activitiesContainer.appendChild(activityDiv);
            });
        }

        // Cargar próximas prácticas
        function loadUpcomingPractices() {
            const upcomingContainer = document.getElementById('upcoming-practices');
            upcomingContainer.innerHTML = '';
            
            // Obtener fecha actual
            const today = new Date();
            
            // Filtrar prácticas futuras
            const upcomingPractices = practiceData.filter(practice => {
                const practiceDate = new Date(practice.date);
                return practiceDate >= today;
            }).sort((a, b) => new Date(a.date) - new Date(b.date));
            
            // Tomar las 4 próximas
            const nextPractices = upcomingPractices.slice(0, 4);
            
            nextPractices.forEach(practice => {
                const practiceDiv = document.createElement('div');
                practiceDiv.className = 'flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg';
                
                practiceDiv.innerHTML = `
                    <div>
                        <p class="text-sm font-medium text-gray-800 dark:text-white">${practice.practice}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">${practice.professor} - ${formatDate(practice.date)}</p>
                    </div>
                    <span class="px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 text-xs rounded-full">Programada</span>
                `;
                
                upcomingContainer.appendChild(practiceDiv);
            });
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Navegación del sidebar
            document.getElementById('dashboard-link').addEventListener('click', function(e) {
                e.preventDefault();
                showView('dashboard-view');
                updateActiveLink(this);
            });
            
            document.getElementById('practices-link').addEventListener('click', function(e) {
                e.preventDefault();
                showView('practices-view');
                updateActiveLink(this);
            });
            
            document.getElementById('users-link').addEventListener('click', function(e) {
                e.preventDefault();
                showView('users-view');
                updateActiveLink(this);
            });
            
            document.getElementById('reports-link').addEventListener('click', function(e) {
                e.preventDefault();
                showView('reports-view');
                updateActiveLink(this);
            });
            
            document.getElementById('settings-link').addEventListener('click', function(e) {
                e.preventDefault();
                showView('settings-view');
                updateActiveLink(this);
            });
            
            // Botón de tema
            document.getElementById('theme-toggle').addEventListener('click', function() {
                toggleTheme();
            });
            
            // Botón de cerrar sesión
            document.getElementById('logout-btn').addEventListener('click', function() {
                if (confirm('¿Está seguro de que desea cerrar sesión?')) {
                    // Redirigir a la página de login
                    window.location.href = 'login.html';
                }
            });
            
            // Filtros de prácticas
            document.getElementById('search').addEventListener('input', function(e) {
                currentFilters.search = e.target.value.toLowerCase();
                filterPracticesData();
            });
            
            document.getElementById('professor-filter').addEventListener('change', function(e) {
                currentFilters.professor = e.target.value;
                filterPracticesData();
            });
            
            document.getElementById('subject-filter').addEventListener('change', function(e) {
                currentFilters.subject = e.target.value;
                filterPracticesData();
            });
            
            // Botón de restablecer filtros
            document.getElementById('reset-filters').addEventListener('click', function() {
                resetFilters();
            });
            
            // Botón de exportar PDF
            document.getElementById('export-pdf-btn').addEventListener('click', function() {
                exportToPDF();
            });
            
            // Ordenamiento de columnas
            document.querySelectorAll('.sortable').forEach(header => {
                header.addEventListener('click', function() {
                    const column = this.getAttribute('data-column');
                    sortPracticesTable(column);
                });
            });
            
            // Modales
            setupModalListeners();
        }

        // Configurar listeners para modales
        function setupModalListeners() {
            const editModal = document.getElementById('edit-modal');
            const closeEditModal = document.getElementById('close-edit-modal');
            const cancelEdit = document.getElementById('cancel-edit');
            const editPracticeForm = document.getElementById('edit-practice-form');
            
            const deleteModal = document.getElementById('delete-modal');
            const closeDeleteModal = document.getElementById('close-delete-modal');
            const cancelDelete = document.getElementById('cancel-delete');
            const confirmDelete = document.getElementById('confirm-delete');
            
            const successMessage = document.getElementById('success-message');
            
            // Cerrar modal de edición
            function closeEditModalFunc() {
                editModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            closeEditModal.addEventListener('click', closeEditModalFunc);
            cancelEdit.addEventListener('click', closeEditModalFunc);

            // Cerrar modal al hacer clic fuera del contenido
            editModal.addEventListener('click', function(e) {
                if (e.target === editModal) {
                    closeEditModalFunc();
                }
            });

            // Envío del formulario de edición
            editPracticeForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Obtener datos del formulario
                const practiceId = parseInt(document.getElementById('edit-practice-id').value);
                const practiceDate = document.getElementById('edit-practice-date').value;
                const practiceName = document.getElementById('edit-practice-name').value;
                const practiceProfessor = document.getElementById('edit-practice-professor').value;
                const practiceSubject = document.getElementById('edit-practice-subject').value;
                const practiceObjective = document.getElementById('edit-practice-objective').value;
                const practiceLab = document.getElementById('edit-practice-lab').value;
                const practiceStatus = document.getElementById('edit-practice-status').value;
                
                // Actualizar práctica en los datos
                const practiceIndex = practiceData.findIndex(p => p.id === practiceId);
                if (practiceIndex !== -1) {
                    practiceData[practiceIndex] = {
                        ...practiceData[practiceIndex],
                        date: practiceDate,
                        practice: practiceName,
                        professor: practiceProfessor,
                        subject: practiceSubject,
                        objective: practiceObjective,
                        lab: practiceLab,
                        status: practiceStatus
                    };
                    
                    // Actualizar tabla
                    currentData = [...practiceData];
                    filterPracticesData();
                    
                    // Mostrar mensaje de éxito
                    showSuccessMessage('¡Práctica actualizada exitosamente!');
                }
                
                // Cerrar modal
                closeEditModalFunc();
            });
            
            // Cerrar modal de eliminación
            function closeDeleteModalFunc() {
                deleteModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            closeDeleteModal.addEventListener('click', closeDeleteModalFunc);
            cancelDelete.addEventListener('click', closeDeleteModalFunc);

            // Cerrar modal al hacer clic fuera del contenido
            deleteModal.addEventListener('click', function(e) {
                if (e.target === deleteModal) {
                    closeDeleteModalFunc();
                }
            });

            // Confirmar eliminación
            confirmDelete.addEventListener('click', function() {
                const practiceId = parseInt(document.getElementById('delete-practice-id').value);
                
                // Eliminar práctica de los datos
                const practiceIndex = practiceData.findIndex(p => p.id === practiceId);
                if (practiceIndex !== -1) {
                    practiceData.splice(practiceIndex, 1);
                    
                    // Actualizar tabla
                    currentData = [...practiceData];
                    filterPracticesData();
                    
                    // Mostrar mensaje de éxito
                    showSuccessMessage('¡Práctica eliminada exitosamente!');
                }
                
                // Cerrar modal
                closeDeleteModalFunc();
            });
        }

        // Mostrar mensaje de éxito
        function showSuccessMessage(message) {
            const successMessage = document.getElementById('success-message');
            const successText = document.getElementById('success-text');
            
            successText.textContent = message;
            successMessage.classList.remove('hidden');
            
            // Ocultar mensaje después de 3 segundos
            setTimeout(() => {
                successMessage.classList.add('hidden');
            }, 3000);
        }

        // Mostrar vista específica
        function showView(viewId) {
            // Ocultar todas las vistas
            document.getElementById('dashboard-view').classList.add('hidden');
            document.getElementById('practices-view').classList.add('hidden');
            document.getElementById('users-view').classList.add('hidden');
            document.getElementById('reports-view').classList.add('hidden');
            document.getElementById('settings-view').classList.add('hidden');
            
            // Mostrar la vista seleccionada
            document.getElementById(viewId).classList.remove('hidden');
        }

        // Actualizar enlace activo en el sidebar
        function updateActiveLink(activeLink) {
            // Remover clase activa de todos los enlaces
            document.querySelectorAll('.sidebar a').forEach(link => {
                link.classList.remove('bg-primary', 'text-white');
                link.classList.add('text-gray-700', 'dark:text-gray-300');
            });
            
            // Agregar clase activa al enlace seleccionado
            activeLink.classList.remove('text-gray-700', 'dark:text-gray-300');
            activeLink.classList.add('bg-primary', 'text-white');
        }

        // Inicializar tabla de prácticas
        function initializePracticesTable() {
            const tableBody = document.getElementById('table-body');
            tableBody.innerHTML = '';
            
            // Generar filas de la tabla
            currentData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 
                    ? 'bg-white dark:bg-background-dark' 
                    : 'bg-primary/10 dark:bg-primary/20';
                
                // Determinar color del estado
                let statusColor = '';
                let statusText = '';
                switch(item.status) {
                    case 'programada':
                        statusColor = 'bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200';
                        statusText = 'Programada';
                        break;
                    case 'confirmada':
                        statusColor = 'bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200';
                        statusText = 'Confirmada';
                        break;
                    case 'en-curso':
                        statusColor = 'bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200';
                        statusText = 'En curso';
                        break;
                    case 'completada':
                        statusColor = 'bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200';
                        statusText = 'Completada';
                        break;
                    case 'cancelada':
                        statusColor = 'bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200';
                        statusText = 'Cancelada';
                        break;
                }
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${formatDate(item.date)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${item.practice}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${item.objective}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${item.professor}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${item.subject}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button class="edit-practice-btn text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3"
                                data-id="${item.id}">
                            Editar
                        </button>
                        <button class="delete-practice-btn text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"
                                data-id="${item.id}"
                                data-practice="${item.practice}"
                                data-professor="${item.professor}"
                                data-date="${formatDate(item.date)}">
                            Eliminar
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Agregar event listeners a los botones de editar y eliminar
            document.querySelectorAll('.edit-practice-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const practiceId = parseInt(this.getAttribute('data-id'));
                    openEditModal(practiceId);
                });
            });
            
            document.querySelectorAll('.delete-practice-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const practiceId = parseInt(this.getAttribute('data-id'));
                    const practiceName = this.getAttribute('data-practice');
                    const practiceProfessor = this.getAttribute('data-professor');
                    const practiceDate = this.getAttribute('data-date');
                    openDeleteModal(practiceId, practiceName, practiceProfessor, practiceDate);
                });
            });
            
            // Actualizar filtros
            updateFilters();
        }

        // Abrir modal de edición
        function openEditModal(practiceId) {
            const practice = practiceData.find(p => p.id === practiceId);
            if (!practice) return;
            
            // Llenar el formulario con los datos actuales
            document.getElementById('edit-practice-id').value = practice.id;
            document.getElementById('edit-practice-date').value = practice.date;
            document.getElementById('edit-practice-name').value = practice.practice;
            document.getElementById('edit-practice-professor').value = practice.professor;
            document.getElementById('edit-practice-subject').value = practice.subject;
            document.getElementById('edit-practice-objective').value = practice.objective;
            document.getElementById('edit-practice-lab').value = practice.lab || '';
            document.getElementById('edit-practice-status').value = practice.status;
            
            // Mostrar modal
            const editModal = document.getElementById('edit-modal');
            editModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Abrir modal de eliminación
        function openDeleteModal(practiceId, practiceName, practiceProfessor, practiceDate) {
            // Llenar la información de la práctica a eliminar
            document.getElementById('delete-practice-id').value = practiceId;
            document.getElementById('delete-practice-name').textContent = practiceName;
            document.getElementById('delete-practice-details').textContent = `${practiceProfessor} - ${practiceDate}`;
            
            // Mostrar modal
            const deleteModal = document.getElementById('delete-modal');
            deleteModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Filtrar datos de prácticas
        function filterPracticesData() {
            let filteredData = [...practiceData];
            
            // Aplicar filtro de búsqueda
            if (currentFilters.search) {
                filteredData = filteredData.filter(item => 
                    item.practice.toLowerCase().includes(currentFilters.search) ||
                    item.objective.toLowerCase().includes(currentFilters.search) ||
                    item.professor.toLowerCase().includes(currentFilters.search) ||
                    item.subject.toLowerCase().includes(currentFilters.search)
                );
            }
            
            // Aplicar filtro por profesor
            if (currentFilters.professor) {
                filteredData = filteredData.filter(item => item.professor === currentFilters.professor);
            }
            
            // Aplicar filtro por asignatura
            if (currentFilters.subject) {
                filteredData = filteredData.filter(item => item.subject === currentFilters.subject);
            }
            
            currentData = filteredData;
            sortPracticesTable(sortColumn, sortDirection);
            updateResultsCount();
        }

        // Ordenar tabla de prácticas
        function sortPracticesTable(column, direction = null) {
            // Determinar dirección de ordenamiento
            if (column === sortColumn) {
                sortDirection = direction || (sortDirection === 'asc' ? 'desc' : 'asc');
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }
            
            // Aplicar ordenamiento
            currentData.sort((a, b) => {
                let aValue = a[column];
                let bValue = b[column];
                
                // Para fechas, convertir a objetos Date
                if (column === 'date') {
                    aValue = new Date(aValue);
                    bValue = new Date(bValue);
                } else {
                    // Para texto, convertir a minúsculas para ordenamiento case-insensitive
                    aValue = String(aValue).toLowerCase();
                    bValue = String(bValue).toLowerCase();
                }
                
                if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;
                if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });
            
            // Actualizar indicadores visuales de ordenamiento
            updateSortIndicators();
            
            // Volver a renderizar la tabla
            initializePracticesTable();
        }

        // Actualizar indicadores visuales de ordenamiento
        function updateSortIndicators() {
            document.querySelectorAll('.sortable').forEach(header => {
                header.classList.remove('active-sort');
                const icon = header.querySelector('.sort-icon');
                
                if (header.getAttribute('data-column') === sortColumn) {
                    header.classList.add('active-sort');
                    icon.textContent = sortDirection === 'asc' ? '↑' : '↓';
                } else {
                    icon.textContent = '↕';
                }
            });
        }

        // Actualizar filtros desplegables
        function updateFilters() {
            const professorFilter = document.getElementById('professor-filter');
            const subjectFilter = document.getElementById('subject-filter');
            
            // Obtener valores únicos
            const professors = [...new Set(practiceData.map(item => item.professor))];
            const subjects = [...new Set(practiceData.map(item => item.subject))];
            
            // Limpiar opciones existentes (excepto la primera)
            while (professorFilter.children.length > 1) {
                professorFilter.removeChild(professorFilter.lastChild);
            }
            while (subjectFilter.children.length > 1) {
                subjectFilter.removeChild(subjectFilter.lastChild);
            }
            
            // Agregar opciones
            professors.forEach(professor => {
                const option = document.createElement('option');
                option.value = professor;
                option.textContent = professor;
                professorFilter.appendChild(option);
            });
            
            subjects.forEach(subject => {
                const option = document.createElement('option');
                option.value = subject;
                option.textContent = subject;
                subjectFilter.appendChild(option);
            });
            
            // Restaurar valores seleccionados si existen
            if (currentFilters.professor) {
                professorFilter.value = currentFilters.professor;
            }
            if (currentFilters.subject) {
                subjectFilter.value = currentFilters.subject;
            }
        }

        // Restablecer filtros
        function resetFilters() {
            document.getElementById('search').value = '';
            document.getElementById('professor-filter').value = '';
            document.getElementById('subject-filter').value = '';
            
            currentFilters = {
                search: '',
                professor: '',
                subject: ''
            };
            
            currentData = [...practiceData];
            sortPracticesTable('date', 'asc');
            updateResultsCount();
        }

        // Actualizar contador de resultados
        function updateResultsCount() {
            document.getElementById('results-count').textContent = currentData.length;
            document.getElementById('total-count').textContent = practiceData.length;
        }

        // Alternar tema oscuro/claro
        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('darkMode', isDark);
            updateThemeIcon(isDark);
        }

        // Actualizar icono del tema
        function updateThemeIcon(isDark) {
            const themeIcon = document.getElementById('theme-icon');
            if (isDark) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }

        // Formatear fecha
        function formatDate(dateString) {
            const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
            return new Date(dateString).toLocaleDateString('es-ES', options);
        }

        // Exportar a PDF
        function exportToPDF() {
            const { jsPDF } = window.jspdf;
            // Crear PDF en orientación horizontal (landscape)
            const pdf = new jsPDF('l', 'mm', 'a4');
            
            // Configuración para hoja horizontal
            const margin = 15;
            let yPosition = margin;
            const pageWidth = pdf.internal.pageSize.getWidth(); // 297mm para A4 horizontal
            const pageHeight = pdf.internal.pageSize.getHeight(); // 210mm para A4 horizontal
            
            function addHeader(currentPage, totalPages) {
                yPosition = margin;
                
                // Título UNIPOLI - diseño mejorado
                pdf.setFontSize(20);
                pdf.setFont('helvetica', 'bold');
                pdf.setTextColor(40, 108, 223); // Color azul primario
                pdf.text('UNIPOLI', pageWidth / 2, yPosition, { align: 'center' });
                yPosition += 8;

                // Información del documento - diseño compacto
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'normal');
                pdf.setTextColor(0, 0, 0); // Negro
                
                // Primera línea
                pdf.text('Tipo de documento: Registro', margin, yPosition);
                pdf.text('Código: LAB-RG-08', pageWidth - margin, yPosition, { align: 'right' });
                yPosition += 5;
                
                // Segunda línea
                pdf.text('Emisión: 27 de febrero de 2018', margin, yPosition);
                pdf.text(`Revisión: 01`, pageWidth / 2, yPosition, { align: 'center' });
                pdf.text(`Página: ${currentPage} de ${totalPages}`, pageWidth - margin, yPosition, { align: 'right' });
                yPosition += 8;

                // Línea divisoria
                pdf.setDrawColor(200, 200, 200);
                pdf.setLineWidth(0.5);
                pdf.line(margin, yPosition, pageWidth - margin, yPosition);
                yPosition += 12;

                // Título principal
                pdf.setFontSize(16);
                pdf.setFont('helvetica', 'bold');
                pdf.setTextColor(0, 0, 0);
                pdf.text('PROGRAMACIÓN DE PRÁCTICAS MENSUALES', pageWidth / 2, yPosition, { align: 'center' });
                yPosition += 15;
            }

            function addTableHeaders() {
                // Configuración de tabla optimizada para hoja horizontal
                const columnWidths = [25, 50, 80, 45, 50]; // Anchos optimizados para horizontal
                const rowHeight = 10;
                
                // Encabezados con estilo mejorado
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'bold');
                pdf.setTextColor(255, 255, 255); // Texto blanco
                
                const headers = ['Fecha:', 'Práctica:', 'Objetivo:', 'Profesor:', 'Asignatura:'];
                let xPosition = margin;
                
                // Dibujar fondo de encabezados
                pdf.setFillColor(40, 108, 223); // Azul primario
                pdf.rect(margin, yPosition, pageWidth - (2 * margin), rowHeight, 'F');
                
                // Texto de encabezados
                headers.forEach((header, index) => {
                    pdf.text(header, xPosition + 2, yPosition + 7);
                    xPosition += columnWidths[index];
                });
                
                yPosition += rowHeight + 2;
                pdf.setTextColor(0, 0, 0); // Volver a texto negro
            }

            function addTableData(startIndex, endIndex) {
                const columnWidths = [25, 50, 80, 45, 50];
                const rowHeight = 10;
                const data = currentData.slice(startIndex, endIndex);
                
                pdf.setFontSize(9);
                pdf.setFont('helvetica', 'normal');
                
                // Dibujar líneas de la tabla
                pdf.setDrawColor(200, 200, 200);
                pdf.setLineWidth(0.3);
                
                const tableTop = yPosition;
                let tableBottom = yPosition;
                
                data.forEach((item, rowIndex) => {
                    // Fondo alternado para mejor legibilidad
                    if (rowIndex % 2 === 0) {
                        pdf.setFillColor(245, 247, 250);
                        pdf.rect(margin, yPosition, pageWidth - (2 * margin), rowHeight, 'F');
                    }
                    
                    let xPosition = margin;
                    
                    // Fecha
                    pdf.text(formatDate(item.date), xPosition + 2, yPosition + 7);
                    xPosition += columnWidths[0];
                    
                    // Práctica
                    const practiceLines = pdf.splitTextToSize(item.practice, columnWidths[1] - 4);
                    pdf.text(practiceLines, xPosition + 2, yPosition + 7);
                    xPosition += columnWidths[1];
                    
                    // Objetivo
                    const objectiveLines = pdf.splitTextToSize(item.objective, columnWidths[2] - 4);
                    pdf.text(objectiveLines, xPosition + 2, yPosition + 7);
                    xPosition += columnWidths[2];
                    
                    // Profesor
                    const professorLines = pdf.splitTextToSize(item.professor, columnWidths[3] - 4);
                    pdf.text(professorLines, xPosition + 2, yPosition + 7);
                    xPosition += columnWidths[3];
                    
                    // Asignatura
                    const subjectLines = pdf.splitTextToSize(item.subject, columnWidths[4] - 4);
                    pdf.text(subjectLines, xPosition + 2, yPosition + 7);
                    
                    // Línea horizontal
                    pdf.line(margin, yPosition + rowHeight, pageWidth - margin, yPosition + rowHeight);
                    yPosition += rowHeight;
                    tableBottom = yPosition;
                });
                
                // Líneas verticales
                let xPos = margin;
                columnWidths.forEach(width => {
                    pdf.line(xPos, tableTop, xPos, tableBottom);
                    xPos += width;
                });
                pdf.line(pageWidth - margin, tableTop, pageWidth - margin, tableBottom);
                
                return data.length;
            }

            // Calcular número de páginas
            const rowsPerPage = Math.floor((pageHeight - yPosition - margin) / 10);
            const totalPages = Math.ceil(currentData.length / rowsPerPage);
            
            // Generar páginas
            for (let page = 1; page <= totalPages; page++) {
                if (page > 1) {
                    pdf.addPage('l'); // Nueva página horizontal
                }
                
                addHeader(page, totalPages);
                addTableHeaders();
                
                const startIndex = (page - 1) * rowsPerPage;
                const endIndex = Math.min(startIndex + rowsPerPage, currentData.length);
                addTableData(startIndex, endIndex);
            }

            // Guardar el PDF
            pdf.save('programacion_practicas_unipoli.pdf');
        }
    </script>
</body>
</html>